<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1">
<title>ADO Repo Manager</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"></head>
<body><div class="container mt-5">
<h1>Azure DevOps Repository Management</h1>
{% with messages = get_flashed_messages(with_categories=true) %}{% if messages %}{% for category, message in messages %}
<div class="alert alert-{{category}}">{{message}}</div>{% endfor %}{% endif %}{% endwith %}
<h2>Create Repository</h2>
<form method="post">
  <div class="mb-3"><label class="form-label">Personal Access Token</label>
  <input class="form-control" name="token" required></div>
  <div class="mb-3"><label class="form-label">Organization</label>
  <input class="form-control" name="org" required></div>
  <div class="mb-3"><label class="form-label">Project</label>
  <input class="form-control" name="project" required></div>
  <div class="mb-3"><label class="form-label">Repository Name</label>
  <input class="form-control" name="repo" required></div>
  <button class="btn btn-primary" type="submit">Create</button>
</form>
{% if repos %}
<h2 class="mt-4">Existing Repositories</h2><ul>
{% for r in repos %}
<li><a href="{{r.web_url}}" target="_blank">{{r.name}}</a></li>
{% endfor %}</ul>{% endif %}
<a href="{{ url_for('index') }}" class="btn btn-link mt-3">Back</a>
</div></body></html>